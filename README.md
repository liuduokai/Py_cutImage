# Py_cutImage
将上传的图片按指定参数切割成不同宽度的小图片
## 文件说明
* client.py server.py：前期考虑使用socket编程实现网路调用，文件为socket编程demo后弃用，未完成
* main.py：裁切功能实现
* test.py: 测试一些功时使用
## 相关
* opencv:实现了图片裁剪功能
* flask:搭建了请求接口，可以通过post请求调用
## 调用说明
* 使用post请求服务请求需要两个参数
* width：需要切割的宽度
* file：上传的图片
  
## 返回说明
* 返回json格式数据
* 根据裁切后的文件数量使用文件名+_+编号.+扩展名的方式命名
* json 键为切割后图片名
* json 值为图片BASE64化后的字符串，可以使用BASE64转化为图片
 
 ## 存在的问题
 1. flask上传中文文件似乎存在问题，会在文件名后自动加入双引号
 ；解决方案：暂时使用正则替换掉"
 2. 上传中文文件时候，返回文件名时候会直接返回Unicode串；解决方案，在使用json.dunms时加入参数ensure_ascii=False即可正确显示中文文件名；
 > 参考：https://www.jianshu.com/p/191d1e21f7ed

## v0.2更新内容
### 主要解决了中文文件上传时存在的问题
* 使用re.sub解决的上传中文文件时多出 " 的问题
TODO//只是简单的解决了问题，未找到问题的根源，不排除后续出现问题的可能性，问题大概率出在flask上传中文文件存在的问题，希望能通过后续优化根本上解决此问题
* 同上通过re.sub解决了文件名文件文件类型获取的错误
* 解决了中文文件名返回json是文件名直接返回Unicode的问题
### 通过替代函数解决了main.py中无法读取中文文件的问题